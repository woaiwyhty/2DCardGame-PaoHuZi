window.__require=function t(e,n,o){function i(r,s){if(!n[r]){if(!e[r]){var u=r.split("/");if(u=u[u.length-1],!e[u]){var a="function"==typeof __require&&__require;if(!s&&a)return a(u,!0);if(c)return c(u,!0);throw new Error("Cannot find module '"+r+"'")}r=u}var l=n[r]={exports:{}};e[r][0].call(l.exports,function(t){return i(e[r][1][t]||t)},l,l.exports,t,e,n,o)}return n[r].exports}for(var c="function"==typeof __require&&__require,r=0;r<o.length;r++)i(o[r]);return i}({Alert:[function(t,e){"use strict";cc._RF.push(e,"8d711wD+99JZLDcFizBmkPy","Alert"),cc.Class({extends:cc.Component,properties:{_alert:null,_btnOK:null,_btnCancel:null,_title:null,_content:null,_onok:null},onLoad:function(){null!=cc.utils&&(this._alert=cc.find("Canvas/alert"),this._title=cc.find("Canvas/alert/title").getComponent(cc.Label),this._content=cc.find("Canvas/alert/content").getComponent(cc.Label),this._btnOK=cc.find("Canvas/alert/btn_ok"),this._btnCancel=cc.find("Canvas/alert/btn_cancel"),cc.utils.main.addClickEvent(this._btnOK,this.node,"Alert","onBtnClicked"),cc.utils.main.addClickEvent(this._btnCancel,this.node,"Alert","onBtnClicked"),this._alert.active=!1,cc.utils.alert=this,console.log(cc.utils.alert))},onBtnClicked:function(t){"btn_ok"==t.target.name&&this._onok&&this._onok(),this._alert.active=!1,this._onok=null},show:function(t,e,n,o){this._alert.active=!0,this._onok=n,this._title.string=t,this._content.string=e,o?(this._btnCancel.active=!0,this._btnOK.x=-150,this._btnCancel.x=150):(this._btnCancel.active=!1,this._btnOK.x=0)},onDestory:function(){cc.utils&&(cc.utils.alert=null)}}),cc._RF.pop()},{}],AppStart:[function(t,e){"use strict";cc._RF.push(e,"464efWj9iVHTL1j6J886qXv","AppStart"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},start:function(){this.scheduleOnce(function(){cc.director.loadScene("Login")},2)}}),cc._RF.pop()},{}],BackgroundScaler:[function(t,e){"use strict";cc._RF.push(e,"85828i1gn9MEoZl2e+F39PS","BackgroundScaler"),cc.Class({extends:cc.Component,properties:{scaleMethod:0},start:function(){var t=cc.find("Canvas").getComponent(cc.Canvas),e=cc.view.getFrameSize(),n=this.scaleMethod;if(1==n)t.fitWidth?this.node.height=this.node.width/e.width*e.height:this.node.width=this.node.height/e.height*e.width;else if(2==n)if(t.fitWidth){var o=this.node.height;this.node.height=this.node.width/e.width*e.height,this.node.width=this.node.height/o*this.node.width}else{var i=this.node.width;this.node.width=this.node.height/e.height*e.width,this.node.height=this.node.width/i*this.node.height}}}),cc._RF.pop()},{}],CreateRole:[function(t,e){"use strict";cc._RF.push(e,"3f4f5UIF8VLDrReUDEcZGgw","CreateRole"),cc.Class({extends:cc.Component,properties:{inputName:cc.EditBox},onRandomBtnClicked:function(){var t=["\u4e0a\u5b98","\u6b27\u9633","\u4e1c\u65b9","\u7aef\u6728","\u72ec\u5b64","\u53f8\u9a6c","\u5357\u5bab","\u590f\u4faf","\u8bf8\u845b","\u7687\u752b","\u957f\u5b59","\u5b87\u6587","\u8f69\u8f95","\u4e1c\u90ed","\u5b50\u8f66","\u4e1c\u9633","\u5b50\u8a00"],e=["\u96c0\u5723","\u8d4c\u4fa0","\u8d4c\u5723","\u7a33\u8d62","\u4e0d\u8f93","\u597d\u8fd0","\u81ea\u6478","\u6709\u94b1","\u571f\u8c6a"],n=Math.floor(Math.random()*(t.length-1)),o=Math.floor(Math.random()*(e.length-1));this.inputName.string=t[n]+e[o]},onLoad:function(){cc.utils.main.setFitScreenMode(),this.onRandomBtnClicked()},onBtnConfirmClicked:function(){var t=this.inputName.string;""!=t?(cc.utils.userInfo.nickname=t,cc.utils.userInfo.travellerMode=!0,cc.utils.http.sendRequest("/guestSignup",{username:cc.utils.userInfo.username,nickname:t},function(t){0===t.errcode&&(cc.utils.userInfo.token=t.token,cc.director.loadScene("RoomChoice"))})):console.log("invalid name.")}}),cc._RF.pop()},{}],1:[function(t,e){var n=t("util/"),o=Array.prototype.slice,i=Object.prototype.hasOwnProperty,c=e.exports=l;function r(t,e){return n.isUndefined(e)?""+e:n.isNumber(e)&&!isFinite(e)?e.toString():n.isFunction(e)||n.isRegExp(e)?e.toString():e}function s(t,e){return n.isString(t)?t.length<e?t:t.slice(0,e):t}function u(t){return s(JSON.stringify(t.actual,r),128)+" "+t.operator+" "+s(JSON.stringify(t.expected,r),128)}function a(t,e,n,o,i){throw new c.AssertionError({message:n,actual:t,expected:e,operator:o,stackStartFunction:i})}function l(t,e){t||a(t,!0,e,"==",c.ok)}function d(t,e){if(t===e)return!0;if(n.isBuffer(t)&&n.isBuffer(e)){if(t.length!=e.length)return!1;for(var o=0;o<t.length;o++)if(t[o]!==e[o])return!1;return!0}return n.isDate(t)&&n.isDate(e)?t.getTime()===e.getTime():n.isRegExp(t)&&n.isRegExp(e)?t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase:n.isObject(t)||n.isObject(e)?h(t,e):t==e}function f(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function h(t,e){if(n.isNullOrUndefined(t)||n.isNullOrUndefined(e))return!1;if(t.prototype!==e.prototype)return!1;if(n.isPrimitive(t)||n.isPrimitive(e))return t===e;var i=f(t),c=f(e);if(i&&!c||!i&&c)return!1;if(i)return d(t=o.call(t),e=o.call(e));var r,s,u=m(t),a=m(e);if(u.length!=a.length)return!1;for(u.sort(),a.sort(),s=u.length-1;s>=0;s--)if(u[s]!=a[s])return!1;for(s=u.length-1;s>=0;s--)if(!d(t[r=u[s]],e[r]))return!1;return!0}function p(t,e){return!(!t||!e)&&("[object RegExp]"==Object.prototype.toString.call(e)?e.test(t):t instanceof e||!0===e.call({},t))}function g(t,e,o,i){var c;n.isString(o)&&(i=o,o=null);try{e()}catch(r){c=r}if(i=(o&&o.name?" ("+o.name+").":".")+(i?" "+i:"."),t&&!c&&a(c,o,"Missing expected exception"+i),!t&&p(c,o)&&a(c,o,"Got unwanted exception"+i),t&&c&&o&&!p(c,o)||!t&&c)throw c}c.AssertionError=function(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=u(this),this.generatedMessage=!0);var e=t.stackStartFunction||a;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var n=new Error;if(n.stack){var o=n.stack,i=e.name,c=o.indexOf("\n"+i);if(c>=0){var r=o.indexOf("\n",c+1);o=o.substring(r+1)}this.stack=o}}},n.inherits(c.AssertionError,Error),c.fail=a,c.ok=l,c.equal=function(t,e,n){t!=e&&a(t,e,n,"==",c.equal)},c.notEqual=function(t,e,n){t==e&&a(t,e,n,"!=",c.notEqual)},c.deepEqual=function(t,e,n){d(t,e)||a(t,e,n,"deepEqual",c.deepEqual)},c.notDeepEqual=function(t,e,n){d(t,e)&&a(t,e,n,"notDeepEqual",c.notDeepEqual)},c.strictEqual=function(t,e,n){t!==e&&a(t,e,n,"===",c.strictEqual)},c.notStrictEqual=function(t,e,n){t===e&&a(t,e,n,"!==",c.notStrictEqual)},c.throws=function(t,e,n){g.apply(this,[!0].concat(o.call(arguments)))},c.doesNotThrow=function(t,e){g.apply(this,[!1].concat(o.call(arguments)))},c.ifError=function(t){if(t)throw t};var m=Object.keys||function(t){var e=[];for(var n in t)i.call(t,n)&&e.push(n);return e}},{"util/":4}],2:[function(t,e){"function"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],3:[function(t,e){e.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},{}],4:[function(t,e,n){(function(e,o){var i=/%[sdj%]/g;n.format=function(t){if(!b(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(s(arguments[n]));return e.join(" ")}n=1;for(var o=arguments,c=o.length,r=String(t).replace(i,function(t){if("%%"===t)return"%";if(n>=c)return t;switch(t){case"%s":return String(o[n++]);case"%d":return Number(o[n++]);case"%j":try{return JSON.stringify(o[n++])}catch(e){return"[Circular]"}default:return t}}),u=o[n];n<c;u=o[++n])w(u)||!S(u)?r+=" "+u:r+=" "+s(u);return r},n.deprecate=function(t,i){if(R(o.process))return function(){return n.deprecate(t,i).apply(this,arguments)};if(!0===e.noDeprecation)return t;var c=!1;return function(){if(!c){if(e.throwDeprecation)throw new Error(i);e.traceDeprecation?console.trace(i):console.error(i),c=!0}return t.apply(this,arguments)}};var c,r={};function s(t,e){var o={seen:[],stylize:a};return arguments.length>=3&&(o.depth=arguments[2]),arguments.length>=4&&(o.colors=arguments[3]),y(e)?o.showHidden=e:e&&n._extend(o,e),R(o.showHidden)&&(o.showHidden=!1),R(o.depth)&&(o.depth=2),R(o.colors)&&(o.colors=!1),R(o.customInspect)&&(o.customInspect=!0),o.colors&&(o.stylize=u),d(o,t,o.depth)}function u(t,e){var n=s.styles[e];return n?"\x1b["+s.colors[n][0]+"m"+t+"\x1b["+s.colors[n][1]+"m":t}function a(t){return t}function l(t){var e={};return t.forEach(function(t){e[t]=!0}),e}function d(t,e,o){if(t.customInspect&&e&&x(e.inspect)&&e.inspect!==n.inspect&&(!e.constructor||e.constructor.prototype!==e)){var i=e.inspect(o,t);return b(i)||(i=d(t,i,o)),i}var c=f(t,e);if(c)return c;var r=Object.keys(e),s=l(r);if(t.showHidden&&(r=Object.getOwnPropertyNames(e)),E(e)&&(r.indexOf("message")>=0||r.indexOf("description")>=0))return h(e);if(0===r.length){if(x(e)){var u=e.name?": "+e.name:"";return t.stylize("[Function"+u+"]","special")}if(C(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(k(e))return t.stylize(Date.prototype.toString.call(e),"date");if(E(e))return h(e)}var a,y="",w=!1,_=["{","}"];return v(e)&&(w=!0,_=["[","]"]),x(e)&&(y=" [Function"+(e.name?": "+e.name:"")+"]"),C(e)&&(y=" "+RegExp.prototype.toString.call(e)),k(e)&&(y=" "+Date.prototype.toUTCString.call(e)),E(e)&&(y=" "+h(e)),0!==r.length||w&&0!=e.length?o<0?C(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special"):(t.seen.push(e),a=w?p(t,e,o,s,r):r.map(function(n){return g(t,e,o,s,n,w)}),t.seen.pop(),m(a,y,_)):_[0]+y+_[1]}function f(t,e){if(R(e))return t.stylize("undefined","undefined");if(b(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return _(e)?t.stylize(""+e,"number"):y(e)?t.stylize(""+e,"boolean"):w(e)?t.stylize("null","null"):void 0}function h(t){return"["+Error.prototype.toString.call(t)+"]"}function p(t,e,n,o,i){for(var c=[],r=0,s=e.length;r<s;++r)T(e,String(r))?c.push(g(t,e,n,o,String(r),!0)):c.push("");return i.forEach(function(i){i.match(/^\d+$/)||c.push(g(t,e,n,o,i,!0))}),c}function g(t,e,n,o,i,c){var r,s,u;if((u=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?s=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(s=t.stylize("[Setter]","special")),T(o,i)||(r="["+i+"]"),s||(t.seen.indexOf(u.value)<0?(s=w(n)?d(t,u.value,null):d(t,u.value,n-1)).indexOf("\n")>-1&&(s=c?s.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+s.split("\n").map(function(t){return"   "+t}).join("\n")):s=t.stylize("[Circular]","special")),R(r)){if(c&&i.match(/^\d+$/))return s;(r=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(r=r.substr(1,r.length-2),r=t.stylize(r,"name")):(r=r.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),r=t.stylize(r,"string"))}return r+": "+s}function m(t,e,n){return t.reduce(function(t,e){return e.indexOf("\n"),t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function v(t){return Array.isArray(t)}function y(t){return"boolean"==typeof t}function w(t){return null===t}function _(t){return"number"==typeof t}function b(t){return"string"==typeof t}function R(t){return void 0===t}function C(t){return S(t)&&"[object RegExp]"===F(t)}function S(t){return"object"==typeof t&&null!==t}function k(t){return S(t)&&"[object Date]"===F(t)}function E(t){return S(t)&&("[object Error]"===F(t)||t instanceof Error)}function x(t){return"function"==typeof t}function F(t){return Object.prototype.toString.call(t)}function O(t){return t<10?"0"+t.toString(10):t.toString(10)}n.debuglog=function(t){if(R(c)&&(c=e.env.NODE_DEBUG||""),t=t.toUpperCase(),!r[t])if(new RegExp("\\b"+t+"\\b","i").test(c)){var o=e.pid;r[t]=function(){var e=n.format.apply(n,arguments);console.error("%s %d: %s",t,o,e)}}else r[t]=function(){};return r[t]},n.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=v,n.isBoolean=y,n.isNull=w,n.isNullOrUndefined=function(t){return null==t},n.isNumber=_,n.isString=b,n.isSymbol=function(t){return"symbol"==typeof t},n.isUndefined=R,n.isRegExp=C,n.isObject=S,n.isDate=k,n.isError=E,n.isFunction=x,n.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},n.isBuffer=t("./support/isBuffer");var N=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function I(){var t=new Date,e=[O(t.getHours()),O(t.getMinutes()),O(t.getSeconds())].join(":");return[t.getDate(),N[t.getMonth()],e].join(" ")}function T(t,e){return Object.prototype.hasOwnProperty.call(t,e)}n.log=function(){console.log("%s - %s",I(),n.format.apply(n,arguments))},n.inherits=t("inherits"),n._extend=function(t,e){if(!e||!S(e))return t;for(var n=Object.keys(e),o=n.length;o--;)t[n[o]]=e[n[o]];return t}}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":3,_process:5,inherits:2}],5:[function(t,e){var n,o,i=e.exports={};function c(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===c||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}function u(t){if(o===clearTimeout)return clearTimeout(t);if((o===r||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{return o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(function(){try{n="function"==typeof setTimeout?setTimeout:c}catch(t){n=c}try{o="function"==typeof clearTimeout?clearTimeout:r}catch(t){o=r}})();var a,l=[],d=!1,f=-1;function h(){d&&a&&(d=!1,a.length?l=a.concat(l):f=-1,l.length&&p())}function p(){if(!d){var t=s(h);d=!0;for(var e=l.length;e;){for(a=l,l=[];++f<e;)a&&a[f].run();f=-1,e=l.length}a=null,d=!1,u(t)}}function g(t,e){this.fun=t,this.array=e}function m(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new g(t,e)),1!==l.length||d||s(p)},g.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(){return[]},i.binding=function(){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],GameNetworkingManager:[function(t,e){"use strict";cc._RF.push(e,"39f3bFW8iBAa5gHmVNbYj/Y","GameNetworkingManager"),cc.Class({extends:cc.Component,properties:{dataEventHandler:null,roomId:null,maxNumOfGames:0,numOfGames:0,numOfMJ:0,seatIndex:-1,seats:null,turn:-1,button:-1,dingque:-1,chupai:-1,isDingQueing:!1,isHuanSanZhang:!1,gamestate:"",isOver:!1,dissoveData:null},clear:function(){this.dataEventHandler=null,null==this.isOver&&(this.seats=null,this.roomId=null,this.maxNumOfGames=0,this.numOfGames=0)},dispatchEvent:function(t,e){this.dataEventHandler&&this.dataEventHandler.emit(t,e)},initEventHandlers:function(){var t=this;cc.utils.net.addHandler("login_result",function(e){console.log(e),t.dispatchEvent("login_result",e)})},connectToGameServer:function(t){this.dissoveData=null,console.log(cc.utils.net.ip),cc.utils.wc.show("\u6b63\u5728\u52a0\u5165\u623f\u95f4"),cc.utils.net.connect(function(){console.log("onConnectOK");var e={token:t.token,room_id:t.room_id,time:t.time,username:t.username};cc.utils.net.send("login",e)},function(){console.log("failed."),cc.utils.wc.hide()})}}),cc._RF.pop()},{}],HTTPUtil:[function(t,e,n){"use strict";cc._RF.push(e,"be25eLIwqZCT5T8cWUa4Xbr","HTTPUtil"),t("assert").fail;var o="http://127.0.0.1:9001";function i(){n.master_url=o,n.url=o}n.master_url=null,n.url=null,n.token=null,i(),n.sendRequest=function t(e,o,i,c,r,s){void 0===r&&(r=!1),void 0===s&&(s=null);var u=cc.loader.getXMLHttpRequest();u.timeout=5e3,null==o&&(o={}),n.token&&(o.token=n.token),null==c&&(c=n.url);var a=e,l="?";for(var d in o)"?"!=l&&(l+="&"),l+=d+"="+o[d];var f=c+a+encodeURI(l);console.log("RequestURL:"+f),u.open("GET",f,!0),cc.sys.isNative&&u.setRequestHeader("Accept-Encoding","gzip,deflate","text/html;charset=UTF-8");var h=setTimeout(function(){u.hasRetried=!0,u.abort(),console.log("http timeout"),p()},5e3),p=function(){t(e,o,i,c,!0,s)};u.onreadystatechange=function(){if(console.log("onreadystatechange"),clearTimeout(h),4===u.readyState&&u.status>=200&&u.status<300){cc.log("request from ["+u.responseURL+"] data [",e,"]");var t=u.responseText,e=null;try{e=JSON.parse(t)}catch(n){console.log("err:"+n),e={errcode:-10001,errmsg:n}}i&&i(e),i=null}else if(4===u.readyState){if(r)return void(s&&s({errcode:400,errmsg:"Cannot connect with the server!"}));console.log("other readystate == 4, status:"+u.status),setTimeout(function(){p()},5e3)}else console.log("other readystate:"+u.readyState+", status:"+u.status)};try{u.send()}catch(g){p()}return u},n.setURL=function(t){o=t,i()},cc._RF.pop()},{assert:1}],JoinGameInput:[function(t,e){"use strict";cc._RF.push(e,"10a1c8jz95Ju4NnpkOWUfin","JoinGameInput"),cc.Class({extends:cc.Component,properties:{nums:{default:[],type:[cc.Label]},_inputIndex:0},onLoad:function(){},onEnable:function(){this.onResetClicked()},onInputFinished:function(t){var e=this;cc.utils.http.sendRequest("/joinRoom",{username:cc.utils.userInfo.username,token:cc.utils.userInfo.token,room_id:t},function(n){if(0==n.errcode)e.node.active=!1,cc.utils.joinRoom(t);else{var o;o=1===n.errcode?"\u623f\u95f4["+t+"]\u4e0d\u5b58\u5728\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165!":2===n.errcode?"\u623f\u95f4["+t+"]\u5df2\u6ee1!":3===n.errcode?"\u60a8\u5df2\u7ecf\u5728\u522b\u7684\u623f\u95f4!":n.errmsg,cc.utils.alert.show("\u63d0\u793a",o),e.onResetClicked()}}.bind(this))},onInput:function(t){if(!(this._inputIndex>=this.nums.length)&&(this.nums[this._inputIndex].string=t,this._inputIndex+=1,this._inputIndex==this.nums.length)){var e=this.parseRoomID();console.log("ok:"+e),this.onInputFinished(e)}},onN0Clicked:function(){this.onInput(0)},onN1Clicked:function(){this.onInput(1)},onN2Clicked:function(){this.onInput(2)},onN3Clicked:function(){this.onInput(3)},onN4Clicked:function(){this.onInput(4)},onN5Clicked:function(){this.onInput(5)},onN6Clicked:function(){this.onInput(6)},onN7Clicked:function(){this.onInput(7)},onN8Clicked:function(){this.onInput(8)},onN9Clicked:function(){this.onInput(9)},onResetClicked:function(){for(var t=0;t<this.nums.length;++t)this.nums[t].string="";this._inputIndex=0},parseRoomID:function(){for(var t="",e=0;e<this.nums.length;++e)t+=this.nums[e].string;return parseInt(t)}}),cc._RF.pop()},{}],Loading:[function(t,e){"use strict";cc._RF.push(e,"7ee377ItBVP9qB/L0MxRA09","Loading"),cc.Class({extends:cc.Component,properties:{tipLabel:cc.Label},onLoad:function(){this.initFrameworks(),cc.utils.main.setFitScreenMode(),console.log(this.tipLabel.string),cc.utils.http.sendRequest("/isServerOn",{},this.onServerOn,null,!1,this.onServerOff.bind(this))},initFrameworks:function(){cc.utils={},cc.utils.http=t("HTTPUtil"),cc.utils.net=t("Net"),cc.utils.net.ip="127.0.0.1:9001",console.log(window.io,cc.utils.net);var e=t("GameNetworkingManager");cc.utils.gameNetworkingManager=new e,cc.utils.gameNetworkingManager.initEventHandlers(),cc.utils.userInfo={username:"",nickname:"",token:"",travellerMode:!1};var n=t("Utils");cc.utils.main=new n},onServerOn:function(){cc.director.loadScene("Login")},onServerOff:function(t){console.log("server is down!",t),this.tipLabel.string="\u8fde\u63a5\u670d\u52a1\u5668\u5931\u8d25!",setTimeout(function(){cc.game.end()},2e3)}}),cc._RF.pop()},{GameNetworkingManager:"GameNetworkingManager",HTTPUtil:"HTTPUtil",Net:"Net",Utils:"Utils"}],Login:[function(t,e){"use strict";cc._RF.push(e,"a982fjVKdJCPLQYUy78iWqV","Login"),cc.Class({extends:cc.Component,properties:{username:cc.EditBox,password:cc.EditBox,status:cc.Label},onLoad:function(){cc.utils.main.setFitScreenMode()},start:function(){},onTravellerLogin:function(){var t=cc.sys.localStorage.getItem("account");null==t&&(t=Date.now(),cc.sys.localStorage.setItem("account",t)),cc.utils.userInfo.username=t,cc.utils.http.sendRequest("/guestLogin",{username:t},function(t){1===t.errcode?cc.director.loadScene("CreateRole"):0===t.errcode&&(cc.utils.userInfo.token=t.token,cc.director.loadScene("RoomChoice"))})},onUsernameLogin:function(){this.username.string.length<6||this.password.string.length<6?this.status.string="\u5e10\u53f7\u6216\u5bc6\u7801\u592a\u77ed!":this.status.string="\u6b63\u5728\u767b\u5f55..."},onWxLoginClicked:function(){jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","wxLogin","()V"),this.schedule(function(){var t=jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","wxLoginIsSuccess","()Z");if(console.log("is success "+t),t){var e=jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","getWxAutoMessage","()Ljava/lang/String;"),n=JSON.parse(e);console.log("jsonInfo is "+n),console.log("$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$"+e),console.log("autoInfo is "+e),this.unscheduleAllCallbacks()}},.5)}}),cc._RF.pop()},{}],MainGame:[function(t,e){"use strict";cc._RF.push(e,"4d25c3C0IdMhrMamddE4svl","MainGame"),cc.Class({extends:cc.Component,properties:{timeLabel:cc.Label,roomIdLabel:cc.Label},onLoad:function(){cc.utils.main.setFitScreenMode(),this.roomIdLabel.string=cc.utils.room_id,this.initEventHandlers()},initEventHandlers:function(){cc.utils.gameNetworkingManager.dataEventHandler=this.node,this.node.on("login_result",function(){console.log("login_result arrived")})},update:function(){var t=Math.floor(Date.now()/1e3/60);if(this._lastMinute!=t){this._lastMinute=t;var e=new Date,n=e.getHours();n=n<10?"0"+n:n;var o=e.getMinutes();o=o<10?"0"+o:o,this.timeLabel.string=n+":"+o}}}),cc._RF.pop()},{}],Net:[function(t,e){"use strict";cc._RF.push(e,"c67baIDiShFh4/KPZ2AgEis","Net"),null==window.io&&(window.io=t("socket-io")),cc.Class({extends:cc.Component,statics:{ip:"",sio:null,isPinging:!1,fnDisconnect:null,handlers:{},addHandler:function(t,e){if(this.handlers[t])console.log("event:"+t+"' handler has been registered.");else{var n=function(n){"disconnect"!=t&&"string"==typeof n&&(n=JSON.parse(n)),e(n)};this.handlers[t]=n,this.sio&&(console.log("register:function "+t),this.sio.on(t,n))}},connect:function(t){var e=this;for(var n in this.sio=window.io.connect(this.ip,{reconnection:!1,"force new connection":!0,transports:["websocket","polling"]}),this.sio.on("reconnect",function(){console.log("reconnection")}),this.sio.on("connect",function(n){e.sio.connected=!0,this.startHearbeat(),t(n)}.bind(this)),this.sio.on("disconnect",function(){console.log("disconnect"),e.sio.connected=!1,e.close()}),this.sio.on("connect_failed",function(){console.log("connect_failed")}),this.handlers){var o=this.handlers[n];"function"==typeof o&&("disconnect"==n?this.fnDisconnect=o:(console.log("register:function "+n),this.sio.on(n,o)))}},startHearbeat:function(){this.sio.on("game_pong",function(){console.log("game_pong"),t.lastRecieveTime=Date.now(),t.delayMS=t.lastRecieveTime-t.lastSendTime,console.log(t.delayMS)}),this.lastRecieveTime=Date.now();var t=this;console.log(1),t.isPinging||(t.isPinging=!0,cc.game.on(cc.game.EVENT_HIDE,function(){t.ping()}),setInterval(function(){t.sio&&t.ping()}.bind(this),5e3),setInterval(function(){t.sio&&Date.now()-t.lastRecieveTime>1e4&&(console.log("omg... trying to close ws"),t.close())}.bind(this),500))},send:function(t,e){console.log("sio send",t,e,this.sio.connected),this.sio.connected&&(null!=e&&"object"==typeof e&&(e=JSON.stringify(e)),null==e&&(e=""),console.log("data sent out"),this.sio.emit(t,e))},ping:function(){this.sio&&(this.lastSendTime=Date.now(),this.send("game_ping"))},close:function(){console.log("close"),this.delayMS=null,this.sio&&this.sio.connected&&(this.sio.connected=!1,this.sio.disconnect()),this.sio=null,this.fnDisconnect&&(this.fnDisconnect(),this.fnDisconnect=null)},test:function(t){cc.utils.main.sendRequest("/hi",null,function(e){t(0==e.errcode)},"http://"+this.ip)}}}),cc._RF.pop()},{"socket-io":void 0}],RoomChoice:[function(t,e){"use strict";cc._RF.push(e,"f9323NccwJOxolqgGoVJwiy","RoomChoice"),cc.Class({extends:cc.Component,properties:{waitingConnection:cc.Node,joinGameWindow:cc.Node,createRoomWindow:cc.Node,checkbox6Rounds:cc.Sprite,checkbox12Rounds:cc.Sprite,uncheckedSprite:cc.SpriteFrame,checkedSprite:cc.SpriteFrame},onLoad:function(){cc.utils.joinRoom=this.joinRoom,cc.utils.main.setFitScreenMode(),this.initEventHandlers(),this.selected6Rounds=!1,this.on6RoundsSelected()},initEventHandlers:function(){cc.utils.gameNetworkingManager.dataEventHandler=this.node,this.node.on("login_result",function(t){console.log("login_result arrived",t),0===t.errcode&&(cc.utils.room_id=t.room_id,cc.utils.wc.hide(),cc.director.loadScene("PaohuZiGame"))})},onCreateRoomClicked:function(){this.createRoomWindow.active=!0},onJoinRoomClicked:function(){this.joinGameWindow.active=!0},onCloseCreateRoomClicked:function(){this.createRoomWindow.active=!1},onCloseJoinRoomClicked:function(){this.joinGameWindow.active=!1},onCreateRoomConfirmButtonClicked:function(){var t=this,e=6;this.selected6Rounds||(e=12),cc.utils.http.sendRequest("/createRoom",{username:cc.utils.userInfo.username,token:cc.utils.userInfo.token,num_of_games:e},function(e){console.log(e),0===e.errcode?t.joinRoom(e.room_id):cc.utils.alert.show("\u63d0\u793a",e.errmsg)}.bind(this))},joinRoom:function(t){cc.utils.gameNetworkingManager.connectToGameServer({username:cc.utils.userInfo.username,token:cc.utils.userInfo.token,room_id:t,time:Date.now()})},on6RoundsSelected:function(){console.log("on6RoundsSelected"),this.selected6Rounds||(this.selected6Rounds=!0,this.checkbox6Rounds.spriteFrame=this.checkedSprite,this.checkbox12Rounds.spriteFrame=this.uncheckedSprite)},on12RoundsSelected:function(){console.log("on12RoundsSelected"),this.selected6Rounds&&(this.selected6Rounds=!1,this.checkbox6Rounds.spriteFrame=this.uncheckedSprite,this.checkbox12Rounds.spriteFrame=this.checkedSprite)}}),cc._RF.pop()},{}],RoomManagerUtil:[function(t,e){"use strict";cc._RF.push(e,"8b98fjiOYRF6YvyKYtmCaUW","RoomManagerUtil"),cc._RF.pop()},{}],Utils:[function(t,e){"use strict";cc._RF.push(e,"07e7fdPl0REq5XybOY99ea/","Utils"),cc.Class({extends:cc.Component,properties:{},addClickEvent:function(t,e,n,o){console.log(n+":"+o);var i=new cc.Component.EventHandler;i.target=e,i.component=n,i.handler=o,t.getComponent(cc.Button).clickEvents.push(i)},addSlideEvent:function(t,e,n,o){var i=new cc.Component.EventHandler;i.target=e,i.component=n,i.handler=o,t.getComponent(cc.Slider).slideEvents.push(i)},addEscEvent:function(t){cc.eventManager.addListener({event:cc.EventListener.KEYBOARD,onKeyPressed:function(){},onKeyReleased:function(t){t==cc.KEY.back&&cc.vv.alert.show("\u63d0\u793a","\u786e\u5b9a\u8981\u9000\u51fa\u6e38\u620f\u5417\uff1f",function(){cc.game.end()},!0)}},t)},setFitScreenMode:function(){var t=cc.find("Canvas"),e=cc.view.getFrameSize(),n=e.width,o=e.height,i=t.getComponent(cc.Canvas);n/o>i.designResolution.width/i.designResolution.height?(i.fitHeight=!0,i.fitWidth=!1):(i.fitHeight=!1,i.fitWidth=!0)}}),cc._RF.pop()},{}],WaitingConnection:[function(t,e){"use strict";cc._RF.push(e,"9c66cFYHNNLg710XrNY7p24","WaitingConnection"),cc.Class({extends:cc.Component,properties:{target:cc.Node,_isShow:!1,lblContent:cc.Label},onLoad:function(){if(null==cc.utils)return null;cc.utils.wc=this,this.node.active=this._isShow},update:function(t){this.target.angle=this.target.angle-45*t},show:function(t){this._isShow=!0,this.node&&(this.node.active=this._isShow),this.lblContent&&(null==t&&(t=""),this.lblContent.string=t)},hide:function(){this._isShow=!1,this.node&&(this.node.active=this._isShow)}}),cc._RF.pop()},{}],"use_v2.1-2.2.1_cc.Toggle_event":[function(t,e){"use strict";cc._RF.push(e,"ada71qWbJFENo33xqQRiWuG","use_v2.1-2.2.1_cc.Toggle_event"),cc.Toggle&&(cc.Toggle._triggerEventInScript_isChecked=!0),cc._RF.pop()},{}]},{},["Alert","AppStart","BackgroundScaler","CreateRole","GameNetworkingManager","HTTPUtil","JoinGameInput","Loading","Login","MainGame","Net","RoomChoice","RoomManagerUtil","Utils","WaitingConnection","use_v2.1-2.2.1_cc.Toggle_event"]);